============================
Вычисление числа по разрядам
============================


Задание
=======

Реализовать веб-приложение для вывода n-ой цифры в числе Пи

1. На основной странице отображаем таблицу с результатами всех вычислений и
   элемент для добавления новой задачи по получению n-ой цифры.
2. Задачи выполняем асинхронно вне зависимости от реализации.
3. В таблице с результатами отображаем статус задачи (завершена, в процессе,
   ошибка).
4. Обновление статуса задачи на странице также должно быть асинхронное.
5. Каждая строка таблицы должна содержать ссылку на страницу, на которой
   должно выводится число Пи с точностью до n знаков.


Ход решениея
============

Много контента остается по ту сторону вашего экрана, то есть здесь со мной на рабочем месте и во время выполнения. Не
хочу, что бы добро пропадало зря. Плюс, зафиксировав мысль или решение мне легче двигаться дальше. Читатель увидит "куда
уходит время" в истории коммитов.

Выбраны инструменты:

 - интерпретатор `pypy3.5 <http://buildbot.pypy.org/nightly/py3.5/pypy-c-jit-95404-ce637db93b36-linux64.tar.bz2>`_
 - фреймворк `aiohttp <https://docs.aiohttp.org/en/stable/>`_
 - канал взаимодействия `WebSockets <https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API>`_
 - очередь задач `asyncio.Queue <https://docs.python.org/3.5/library/asyncio-queue.html#queue>`_
 - организация вычислений какая магия из эвентлупа и мультипроцессинга, точно пока не знаю
 - хранилище данных `sqlite3 <https://sqlite.org/index.html>`_

WebSockets не балансируются. Можно было бы браузерный лог полинг,
`Server-sent events <https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events>`_, но
`Edge UNDER CONSIDERATION <https://developer.microsoft.com/en-us/microsoft-edge/platform/status/serversenteventseventsource/?q=EventSource>`_.

Celery - инструмент как раз для таких задач. Но я его ещё не использовал в таком качестве - только как средство выноса
долгих задач из быстрых и коротких обработчиков http
(`django views <https://docs.djangoproject.com/en/2.1/topics/http/views/>`_). Сейчас я не горю особым желанием
разбираться в том, как обращаться с этой очередью для выполнения требований задания. Я расставил приоритеты по другому.
Оставлю celery на другой раз.


План
----

1. Web 1.0 версия

   Я не определился с клиентской реализацией, то есть не утвердил варианты ответов на вопросы как, что, зачем. Начну с
   сервера в старом добром стиле сервер-сайд рендеринга и ручным обновлением страницы. Так я продвинусь по заданию,
   выбросив из него `асинхронно`.

2. Интерактивая версия

   Для выполнения требования асинхронности, то есть интерактивности взаимодействия с пользователем, нужно...
